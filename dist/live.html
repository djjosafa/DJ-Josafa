<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>DJ Josaf√° | Site Oficial</title>
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.png" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
       <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Muli:400,400i,800,800i" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg fixed-top" id="sideNav">
            <a class="navbar-brand js-scroll-trigger" href="#page-top">
                <!-- gif que aparece no desktop -->
               <span class="d-block d-lg-none">&reg;</span>
               <span class="d-none d-lg-block">
                   <img class="img-fluid img-profile mx-auto mb-2" src="assets/img/caricatura.gif" alt="Imagem de Perfil" style="border: none; box-shadow: none;" />
               </span>
            </a>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="index.html">In√≠cio</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="agenda.html">Agenda</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="loja.html">Loja</a></li>
                    <!-- Aperte o Play! -->
                    <li class="nav-item dropdown">
                      <a class="nav-link dropdown-toggle" href="#" id="playDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Aperte o Play!
                      </a>
                      <ul class="dropdown-menu" aria-labelledby="playDropdown">
                        <li><a class="dropdown-item js-scroll-trigger" href="sets.html">Sets</a></li>
                        <li><a class="dropdown-item js-scroll-trigger" href="videos.html">V√≠deos</a></li>
                        <li><a class="dropdown-item js-scroll-trigger" href="musicas.html">M√∫sicas</a></li>
                        <li><a class="dropdown-item js-scroll-trigger" href="playlists.html">Playlist</a></li>
                        <li><a class="dropdown-item js-scroll-trigger" href="live.html">Live</a></li>
                     </ul>
                   </li>
                <!-- Formatos -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="formatDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Formatos
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="formatDropdown">
                        <li><a class="dropdown-item js-scroll-trigger" href="#education">Oficinas</a></li>
                    </ul>
                </li>
                <!-- Conhecimento -->
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="knowledgeDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Conhecimento
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="knowledgeDropdown">               
                        <li><a class="dropdown-item js-scroll-trigger" href="#blog">JosaBlog</a></li>
                        <li><a class="dropdown-item js-scroll-trigger" href="#clipping">Entrevistas</a></li>
                        <li><a class="dropdown-item js-scroll-trigger" href="#about">Biografia</a></li>
                    </ul>
                </li>

                <!-- Fale Conosco -->
                <li class="nav-item">
                    <a class="nav-link js-scroll-trigger" href="talk.html">Fale Conosco</a>
                </li>
            </ul>
            </div>
        </nav>
<!-- Page Content -->
<div class="container-fluid p-0" style="background-color: #011c26; font-family: 'Roboto', sans-serif;">
  <section class="resume-section pt-3" id="videos">
    <div class="resume-section-content text-center">

      <!-- T√≠tulo SETS -->
      <h2 style="color: #d87653; font-family: 'Neptune', sans-serif; text-transform: uppercase; font-size: 3rem; margin-top: 0;">
        LIVE
      </h2>
<div id="liveStatus" style="text-align: center; color: #c3c8ce; padding: 40px 0;">
  <p>Carregando status da live...</p>
</div>

<script>
  const clientId = 'i443e0w1wul5gqdcvxw8gi78cytcjz';
  const accessToken = 'f9xglpvwh43yjasgu2trwisbutyzol';
  const username = 'djjosafa'; // sem o "twitch.tv/", s√≥ o nome

  async function checkLiveStatus() {
    try {
      // Buscar ID do usu√°rio
      const userResponse = await fetch(`https://api.twitch.tv/helix/users?login=${username}`, {
        headers: {
          'Client-ID': clientId,
          'Authorization': `Bearer ${accessToken}`
        }
      });
      const userData = await userResponse.json();
      const userId = userData.data[0]?.id;

      if (!userId) throw new Error("Usu√°rio n√£o encontrado");

      // Checar se est√° ao vivo
      const streamResponse = await fetch(`https://api.twitch.tv/helix/streams?user_id=${userId}`, {
        headers: {
          'Client-ID': clientId,
          'Authorization': `Bearer ${accessToken}`
        }
      });

      const streamData = await streamResponse.json();
      const container = document.getElementById('liveStatus');

      if (streamData.data && streamData.data.length > 0) {
        // Est√° ao vivo
        container.innerHTML = `
          <h3 style="color: #00ff99;">üî¥ Ao Vivo Agora</h3>
          <div style="margin-top: 20px;">
            <iframe
              src="https://player.twitch.tv/?channel=${username}&parent=djjosafa.com.br"
              height="400"
              width="100%"
              frameborder="0"
              allowfullscreen="true"
              scrolling="no"
              allow="autoplay">
            </iframe>
          </div>
        `;
      } else {
        // Offline
        container.innerHTML = `
          <h3 style="color: #c3c8ce;">‚èπÔ∏è Live Offline</h3>
          <p>Siga o canal para ser notificado quando come√ßar:</p>
          <a href="https://twitch.tv/${username}" target="_blank" style="color:#00ff99;">twitch.tv/${username}</a>
        `;
      }
    } catch (err) {
      document.getElementById('liveStatus').innerHTML = `<p style="color:red;">Erro ao carregar status da live.</p>`;
      console.error(err);
    }
  }

  checkLiveStatus();
</script>

    </section>
<div style="text-align: center; font-size: 0.9rem; color: #7c7773; padding: 1rem 0;">
¬© 2025 DJ Josaf√°  &reg; ‚Äî Todos os direitos reservados. Lei 9.610/98.
    </div>
<!-- Bootstrap core JS (inclui Popper para funcionamento do menu) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
